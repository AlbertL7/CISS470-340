<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 4: Retrieving Data from Multiple Tables - MySQL</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #00758f;
            --primary-dark: #005566;
            --secondary: #f29111;
            --background: #0a0e27;
            --surface: #1a1e3a;
            --surface-light: #2a2e4a;
            --text: #e8eaf0;
            --text-muted: #a0a4b8;
            --accent: #4db8ff;
            --success: #52c41a;
            --warning: #faad14;
            --error: #f5222d;
            --gradient: linear-gradient(135deg, #00758f 0%, #f29111 100%);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.7;
            overflow-x: hidden;
        }

        .header {
            background: var(--gradient);
            padding: 2.5rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: var(--secondary);
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            gap: 2rem;
        }

        .sidebar {
            width: 300px;
            position: sticky;
            top: 140px;
            height: fit-content;
            background: var(--surface);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .nav-title {
            font-size: 0.9rem;
            text-transform: uppercase;
            color: var(--text-muted);
            margin-bottom: 1rem;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .nav-item {
            padding: 0.75rem;
            margin: 0.25rem 0;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .nav-item:hover {
            background: var(--surface-light);
            transform: translateX(5px);
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 117, 143, 0.4);
        }

        .content {
            flex: 1;
            min-width: 0;
        }

        .section {
            background: var(--surface);
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            border-bottom: 2px solid var(--surface-light);
            padding-bottom: 0.5rem;
        }

        h3 {
            color: var(--accent);
            margin: 2rem 0 1rem;
            font-size: 1.3rem;
        }

        h4 {
            color: var(--primary);
            margin: 1.5rem 0 0.75rem;
            font-size: 1.1rem;
        }

        p {
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .code-block {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'Consolas', 'Monaco', monospace;
            overflow-x: auto;
            position: relative;
        }

        .code-block pre {
            margin: 0;
            color: #e6edf3;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .keyword {
            color: #ff7b72;
            font-weight: bold;
        }

        .table-name {
            color: #79c0ff;
        }

        .column {
            color: #7ee787;
        }

        .string {
            color: #ffa657;
        }

        .comment {
            color: #8b949e;
            font-style: italic;
        }

        .analogy-box {
            background: linear-gradient(135deg, rgba(0, 117, 143, 0.1), rgba(242, 145, 17, 0.1));
            border-left: 4px solid var(--secondary);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 8px;
        }

        .analogy-box h4 {
            color: var(--secondary);
            margin-top: 0;
        }

        .concept-card {
            background: var(--surface-light);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .visual-demo {
            background: var(--surface-light);
            border-radius: 10px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }

        .table-demo {
            display: inline-block;
            background: #0d1117;
            border: 2px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem;
            min-width: 150px;
            vertical-align: top;
        }

        .table-demo h5 {
            color: var(--accent);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .table-row {
            padding: 0.25rem;
            border-bottom: 1px solid var(--surface-light);
            font-size: 0.85rem;
        }

        .join-arrow {
            display: inline-block;
            font-size: 2rem;
            color: var(--secondary);
            margin: 0 1rem;
            vertical-align: middle;
        }

        .tip-box {
            background: rgba(77, 184, 255, 0.1);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 1.2rem;
            margin: 1.5rem 0;
        }

        .tip-box::before {
            content: "üí° TIP: ";
            color: var(--accent);
            font-weight: bold;
        }

        .warning-box {
            background: rgba(250, 173, 20, 0.1);
            border: 1px solid var(--warning);
            border-radius: 8px;
            padding: 1.2rem;
            margin: 1.5rem 0;
        }

        .warning-box::before {
            content: "‚ö†Ô∏è WARNING: ";
            color: var(--warning);
            font-weight: bold;
        }

        .result-table {
            width: 100%;
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow: hidden;
        }

        .result-table th {
            background: var(--primary);
            color: white;
            padding: 0.75rem;
            text-align: left;
            font-weight: 600;
        }

        .result-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #30363d;
        }

        .result-table tr:hover {
            background: rgba(77, 184, 255, 0.05);
        }

        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid var(--surface-light);
        }

        .tab {
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .tab.active {
            color: var(--secondary);
            border-bottom: 2px solid var(--secondary);
            margin-bottom: -2px;
        }

        .tab:hover {
            color: var(--text);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .highlight {
            background: rgba(242, 145, 17, 0.2);
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 500;
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            margin: 0.5rem;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 117, 143, 0.3);
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: static;
            }
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>
    
    <header class="header">
        <div class="header-content">
            <h1>üìä Chapter 4: How to Retrieve Data from Two or More Tables</h1>
            <p class="subtitle">Master the art of combining data with joins and unions in MySQL</p>
        </div>
    </header>

    <div class="container">
        <nav class="sidebar">
            <div class="nav-title">Chapter Contents</div>
            <div class="nav-item active" data-section="intro">üìö Introduction</div>
            <div class="nav-item" data-section="inner-joins">üîó Inner Joins</div>
            <div class="nav-item" data-section="table-aliases">üè∑Ô∏è Table Aliases</div>
            <div class="nav-item" data-section="advanced-inner">üöÄ Advanced Inner Joins</div>
            <div class="nav-item" data-section="outer-joins">‚ÜîÔ∏è Outer Joins</div>
            <div class="nav-item" data-section="join-keywords">üîë Join Keywords</div>
            <div class="nav-item" data-section="unions">‚ö° Unions</div>
            <div class="nav-item" data-section="summary">‚úÖ Summary</div>
        </nav>

        <main class="content">
            <section class="section" id="intro">
                <h2>üìö Introduction: The Power of Combining Tables</h2>
                
                <p>In the previous chapter, you learned how to retrieve data from a single table. But in the real world, data is rarely stored in just one table. A well-designed database splits data across multiple related tables to avoid redundancy and maintain data integrity. This chapter teaches you how to reunite that data when you need it.</p>

                <div class="analogy-box">
                    <h4>üé≠ Real-World Analogy: The Library System</h4>
                    <p>Imagine a library with separate card catalogs: one for books, one for authors, and one for publishers. When you want complete information about a book, you need to look up information from all three catalogs and combine them. That's exactly what database joins do‚Äîthey combine related information from multiple tables into a single, comprehensive result.</p>
                </div>

                <h3>Why Multiple Tables?</h3>
                <div class="concept-card">
                    <h4>The Problem with Single Tables</h4>
                    <p>If we stored everything in one giant table, we'd have:</p>
                    <ul style="margin-left: 2rem;">
                        <li>üîÑ <strong>Redundancy:</strong> Author information repeated for every book they wrote</li>
                        <li>üêõ <strong>Update Anomalies:</strong> Changing an author's bio means updating hundreds of rows</li>
                        <li>üíæ <strong>Storage Waste:</strong> Duplicate data takes unnecessary space</li>
                        <li>‚ö†Ô∏è <strong>Inconsistency Risk:</strong> Same data might be entered differently in different places</li>
                    </ul>
                </div>

                <h3>Types of Table Relationships</h3>
                <div class="visual-demo">
                    <div class="table-demo">
                        <h5>customers</h5>
                        <div class="table-row">customer_id: 1</div>
                        <div class="table-row">name: John Smith</div>
                        <div class="table-row">email: john@email.com</div>
                    </div>
                    <span class="join-arrow">‚Üí</span>
                    <div class="table-demo">
                        <h5>orders</h5>
                        <div class="table-row">order_id: 101</div>
                        <div class="table-row">customer_id: 1</div>
                        <div class="table-row">total: $99.99</div>
                    </div>
                </div>
                <p style="text-align: center; color: var(--text-muted); margin-top: 1rem;">One customer can have many orders (One-to-Many relationship)</p>
            </section>

            <section class="section" id="inner-joins">
                <h2>üîó How to Work with Inner Joins</h2>
                
                <h3>Understanding Inner Joins</h3>
                <p>An inner join is the most common type of join. It combines rows from two or more tables based on a related column between them, returning only the rows where the join condition is met in both tables.</p>

                <div class="analogy-box">
                    <h4>ü§ù Analogy: The Handshake</h4>
                    <p>Think of an inner join like a handshake at a business meeting. Only people who have a matching partner (someone to shake hands with) appear in the final photo. If someone from the left side doesn't have a corresponding partner on the right side, they're not in the picture. Similarly, an inner join only includes rows that have matching values in both tables.</p>
                </div>

                <h3>Basic Inner Join Syntax</h3>
                <div class="code-block">
                    <pre><span class="comment">-- Basic inner join syntax</span>
<span class="keyword">SELECT</span> <span class="column">column_list</span>
<span class="keyword">FROM</span> <span class="table-name">table1</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">table2</span>
    <span class="keyword">ON</span> <span class="table-name">table1</span>.<span class="column">column</span> = <span class="table-name">table2</span>.<span class="column">column</span>;</pre>
                </div>

                <h3>Practical Example: Customers and Orders</h3>
                <div class="code-block">
                    <pre><span class="comment">-- Join customers with their orders</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">customers</span>.<span class="column">customer_name</span>,
    <span class="table-name">customers</span>.<span class="column">email</span>,
    <span class="table-name">orders</span>.<span class="column">order_id</span>,
    <span class="table-name">orders</span>.<span class="column">order_date</span>,
    <span class="table-name">orders</span>.<span class="column">total_amount</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">orders</span>
    <span class="keyword">ON</span> <span class="table-name">customers</span>.<span class="column">customer_id</span> = <span class="table-name">orders</span>.<span class="column">customer_id</span>
<span class="keyword">WHERE</span> <span class="table-name">orders</span>.<span class="column">order_date</span> >= <span class="string">'2024-01-01'</span>
<span class="keyword">ORDER BY</span> <span class="table-name">orders</span>.<span class="column">order_date</span> <span class="keyword">DESC</span>;</pre>
                </div>

                <h4>What This Query Does:</h4>
                <ol style="margin-left: 2rem;">
                    <li>Starts with the <span class="highlight">customers</span> table</li>
                    <li>Joins it with the <span class="highlight">orders</span> table</li>
                    <li>Matches rows where <span class="highlight">customer_id</span> values are equal</li>
                    <li>Filters for orders from 2024 onwards</li>
                    <li>Sorts results by order date (newest first)</li>
                </ol>

                <div class="tip-box">
                    Only customers who have placed orders will appear in the results. Customers without orders are excluded because there's no matching row in the orders table.
                </div>

                <h3>The Join Condition</h3>
                <p>The ON clause specifies how tables are related. Most commonly, you'll join on:</p>
                <ul style="margin-left: 2rem;">
                    <li><strong>Primary Key to Foreign Key:</strong> The most common relationship</li>
                    <li><strong>Common Values:</strong> Any columns with matching data types</li>
                    <li><strong>Computed Values:</strong> Results of expressions or functions</li>
                </ul>
            </section>

            <section class="section" id="table-aliases">
                <h2>üè∑Ô∏è How to Use Table Aliases</h2>
                
                <p>Table aliases are shortened names for tables that make your queries more readable and faster to type. They're especially useful when joining multiple tables or when a table is joined to itself.</p>

                <h3>Creating Table Aliases</h3>
                <div class="code-block">
                    <pre><span class="comment">-- Without aliases (verbose)</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">customers</span>.<span class="column">customer_name</span>,
    <span class="table-name">orders</span>.<span class="column">order_id</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">orders</span>
    <span class="keyword">ON</span> <span class="table-name">customers</span>.<span class="column">customer_id</span> = <span class="table-name">orders</span>.<span class="column">customer_id</span>;

<span class="comment">-- With aliases (cleaner)</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">o</span>.<span class="column">order_id</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="keyword">AS</span> <span class="table-name">c</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">orders</span> <span class="keyword">AS</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>;</pre>
                </div>

                <div class="tip-box">
                    The AS keyword is optional. You can write <code>customers c</code> instead of <code>customers AS c</code>. Most developers omit AS for brevity.
                </div>

                <h3>Best Practices for Aliases</h3>
                <div class="concept-card">
                    <h4>Naming Conventions</h4>
                    <ul style="margin-left: 2rem;">
                        <li><strong>Single Letters:</strong> Use first letter of table name (c for customers)</li>
                        <li><strong>Meaningful Abbreviations:</strong> Use 2-3 letters (cust for customers)</li>
                        <li><strong>Numbered Aliases:</strong> When joining same table multiple times (e1, e2 for employees)</li>
                        <li><strong>Descriptive Names:</strong> For complex queries (buyer, seller for users table)</li>
                    </ul>
                </div>

                <h3>Column Aliases</h3>
                <div class="code-block">
                    <pre><span class="comment">-- Column aliases for better output</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_name</span> <span class="keyword">AS</span> <span class="string">'Customer'</span>,
    <span class="keyword">COUNT</span>(<span class="table-name">o</span>.<span class="column">order_id</span>) <span class="keyword">AS</span> <span class="string">'Total Orders'</span>,
    <span class="keyword">SUM</span>(<span class="table-name">o</span>.<span class="column">total_amount</span>) <span class="keyword">AS</span> <span class="string">'Total Spent'</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>
<span class="keyword">GROUP BY</span> <span class="table-name">c</span>.<span class="column">customer_id</span>;</pre>
                </div>
            </section>

            <section class="section" id="advanced-inner">
                <h2>üöÄ Advanced Inner Join Techniques</h2>
                
                <h3>Joining to a Table in Another Database</h3>
                <p>MySQL allows you to join tables across different databases on the same server. This is useful when you have related data in separate databases.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Joining tables from different databases</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">sales_db.orders</span>.<span class="column">order_id</span>,
    <span class="table-name">sales_db.orders</span>.<span class="column">order_date</span>,
    <span class="table-name">inventory_db.products</span>.<span class="column">product_name</span>,
    <span class="table-name">inventory_db.products</span>.<span class="column">unit_price</span>
<span class="keyword">FROM</span> <span class="table-name">sales_db.orders</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">sales_db.order_items</span>
    <span class="keyword">ON</span> <span class="table-name">sales_db.orders</span>.<span class="column">order_id</span> = <span class="table-name">sales_db.order_items</span>.<span class="column">order_id</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">inventory_db.products</span>
    <span class="keyword">ON</span> <span class="table-name">sales_db.order_items</span>.<span class="column">product_id</span> = <span class="table-name">inventory_db.products</span>.<span class="column">product_id</span>;</pre>
                </div>

                <div class="warning-box">
                    Cross-database joins require appropriate permissions on both databases and can be slower than joins within a single database.
                </div>

                <h3>Compound Join Conditions</h3>
                <p>Sometimes you need to join tables based on multiple columns, especially with composite keys or when additional filtering is needed in the join itself.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Join with multiple conditions</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">e</span>.<span class="column">employee_name</span>,
    <span class="table-name">p</span>.<span class="column">project_name</span>,
    <span class="table-name">a</span>.<span class="column">hours_worked</span>
<span class="keyword">FROM</span> <span class="table-name">employees</span> <span class="table-name">e</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">assignments</span> <span class="table-name">a</span>
    <span class="keyword">ON</span> <span class="table-name">e</span>.<span class="column">employee_id</span> = <span class="table-name">a</span>.<span class="column">employee_id</span>
    <span class="keyword">AND</span> <span class="table-name">e</span>.<span class="column">department_id</span> = <span class="table-name">a</span>.<span class="column">department_id</span>
    <span class="keyword">AND</span> <span class="table-name">a</span>.<span class="column">assignment_date</span> >= <span class="string">'2024-01-01'</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">projects</span> <span class="table-name">p</span>
    <span class="keyword">ON</span> <span class="table-name">a</span>.<span class="column">project_id</span> = <span class="table-name">p</span>.<span class="column">project_id</span>;</pre>
                </div>

                <h3>Self-Joins</h3>
                <p>A self-join is when a table is joined with itself. This is useful for hierarchical data or comparing rows within the same table.</p>

                <div class="analogy-box">
                    <h4>üë• Analogy: The Organization Chart</h4>
                    <p>Imagine an employee table where each employee has a manager_id that points to another employee in the same table. To find each employee with their manager's name, you need the table to "talk to itself"‚Äîthat's a self-join!</p>
                </div>

                <div class="code-block">
                    <pre><span class="comment">-- Self-join to find employees and their managers</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">e1</span>.<span class="column">employee_name</span> <span class="keyword">AS</span> <span class="string">'Employee'</span>,
    <span class="table-name">e1</span>.<span class="column">job_title</span> <span class="keyword">AS</span> <span class="string">'Position'</span>,
    <span class="table-name">e2</span>.<span class="column">employee_name</span> <span class="keyword">AS</span> <span class="string">'Manager'</span>
<span class="keyword">FROM</span> <span class="table-name">employees</span> <span class="table-name">e1</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">employees</span> <span class="table-name">e2</span>
    <span class="keyword">ON</span> <span class="table-name">e1</span>.<span class="column">manager_id</span> = <span class="table-name">e2</span>.<span class="column">employee_id</span>
<span class="keyword">ORDER BY</span> <span class="table-name">e2</span>.<span class="column">employee_name</span>, <span class="table-name">e1</span>.<span class="column">employee_name</span>;</pre>
                </div>

                <h3>Joining Multiple Tables</h3>
                <p>Complex queries often require joining three or more tables to get all needed information.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Join multiple tables for complete order information</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">o</span>.<span class="column">order_id</span>,
    <span class="table-name">o</span>.<span class="column">order_date</span>,
    <span class="table-name">p</span>.<span class="column">product_name</span>,
    <span class="table-name">oi</span>.<span class="column">quantity</span>,
    <span class="table-name">oi</span>.<span class="column">unit_price</span>,
    (<span class="table-name">oi</span>.<span class="column">quantity</span> * <span class="table-name">oi</span>.<span class="column">unit_price</span>) <span class="keyword">AS</span> <span class="column">line_total</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">order_items</span> <span class="table-name">oi</span>
    <span class="keyword">ON</span> <span class="table-name">o</span>.<span class="column">order_id</span> = <span class="table-name">oi</span>.<span class="column">order_id</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">products</span> <span class="table-name">p</span>
    <span class="keyword">ON</span> <span class="table-name">oi</span>.<span class="column">product_id</span> = <span class="table-name">p</span>.<span class="column">product_id</span>
<span class="keyword">WHERE</span> <span class="table-name">c</span>.<span class="column">country</span> = <span class="string">'USA'</span>
<span class="keyword">ORDER BY</span> <span class="table-name">o</span>.<span class="column">order_date</span> <span class="keyword">DESC</span>;</pre>
                </div>

                <div class="tip-box">
                    When joining multiple tables, think of it as a chain: each join adds another link. Make sure each link connects properly to avoid Cartesian products (every row matched with every other row).
                </div>

                <h3>Implicit Inner Join Syntax (Old Style)</h3>
                <p>MySQL supports an older syntax for inner joins using the WHERE clause. While it works, the explicit JOIN syntax is preferred for clarity.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Old style (implicit) - NOT recommended</span>
<span class="keyword">SELECT</span> <span class="table-name">c</span>.<span class="column">customer_name</span>, <span class="table-name">o</span>.<span class="column">order_id</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>, <span class="table-name">orders</span> <span class="table-name">o</span>
<span class="keyword">WHERE</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>;

<span class="comment">-- Modern style (explicit) - RECOMMENDED</span>
<span class="keyword">SELECT</span> <span class="table-name">c</span>.<span class="column">customer_name</span>, <span class="table-name">o</span>.<span class="column">order_id</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>;</pre>
                </div>

                <div class="warning-box">
                    Avoid implicit joins! They make it harder to distinguish join conditions from filter conditions and can lead to accidental Cartesian products.
                </div>
            </section>

            <section class="section" id="outer-joins">
                <h2>‚ÜîÔ∏è How to Work with Outer Joins</h2>
                
                <p>While inner joins only return rows with matches in both tables, outer joins can include rows even when there's no match in one of the tables. This is crucial for finding missing relationships or preserving all records from one table.</p>

                <div class="analogy-box">
                    <h4>üé™ Analogy: The Party Guest List</h4>
                    <p>Imagine you're tracking party invitations and responses:</p>
                    <ul style="margin-left: 2rem;">
                        <li><strong>INNER JOIN:</strong> Shows only guests who were invited AND responded</li>
                        <li><strong>LEFT JOIN:</strong> Shows ALL invited guests, whether they responded or not</li>
                        <li><strong>RIGHT JOIN:</strong> Shows ALL responses, even unexpected ones</li>
                        <li><strong>FULL JOIN:</strong> Shows everyone involved - all invitations and all responses</li>
                    </ul>
                </div>

                <h3>Types of Outer Joins</h3>
                
                <h4>LEFT JOIN (LEFT OUTER JOIN)</h4>
                <p>Returns all rows from the left table, and matched rows from the right table. NULL values appear for right table columns when there's no match.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Find all customers, including those without orders</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">c</span>.<span class="column">email</span>,
    <span class="keyword">COUNT</span>(<span class="table-name">o</span>.<span class="column">order_id</span>) <span class="keyword">AS</span> <span class="column">order_count</span>,
    <span class="keyword">COALESCE</span>(<span class="keyword">SUM</span>(<span class="table-name">o</span>.<span class="column">total_amount</span>), 0) <span class="keyword">AS</span> <span class="column">total_spent</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>
<span class="keyword">GROUP BY</span> <span class="table-name">c</span>.<span class="column">customer_id</span>
<span class="keyword">ORDER BY</span> <span class="column">total_spent</span> <span class="keyword">DESC</span>;</pre>
                </div>

                <h4>RIGHT JOIN (RIGHT OUTER JOIN)</h4>
                <p>Returns all rows from the right table, and matched rows from the left table. Less commonly used than LEFT JOIN.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Find all products, including those never ordered</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">p</span>.<span class="column">product_name</span>,
    <span class="table-name">p</span>.<span class="column">category</span>,
    <span class="keyword">COUNT</span>(<span class="table-name">oi</span>.<span class="column">order_id</span>) <span class="keyword">AS</span> <span class="column">times_ordered</span>
<span class="keyword">FROM</span> <span class="table-name">order_items</span> <span class="table-name">oi</span>
<span class="keyword">RIGHT JOIN</span> <span class="table-name">products</span> <span class="table-name">p</span>
    <span class="keyword">ON</span> <span class="table-name">oi</span>.<span class="column">product_id</span> = <span class="table-name">p</span>.<span class="column">product_id</span>
<span class="keyword">GROUP BY</span> <span class="table-name">p</span>.<span class="column">product_id</span>
<span class="keyword">HAVING</span> <span class="column">times_ordered</span> = 0;</pre>
                </div>

                <div class="tip-box">
                    Most developers prefer LEFT JOIN over RIGHT JOIN for consistency. You can usually rewrite a RIGHT JOIN as a LEFT JOIN by switching the table order.
                </div>

                <h3>Practical Outer Join Examples</h3>

                <div class="tabs">
                    <button class="tab active" onclick="showTab(event, 'finding-missing')">Finding Missing Data</button>
                    <button class="tab" onclick="showTab(event, 'preserving-all')">Preserving All Records</button>
                    <button class="tab" onclick="showTab(event, 'exclusive-data')">Exclusive Data</button>
                </div>

                <div id="finding-missing" class="tab-content active">
                    <div class="code-block">
                        <pre><span class="comment">-- Find customers who have never placed an order</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_id</span>,
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">c</span>.<span class="column">registration_date</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>
<span class="keyword">WHERE</span> <span class="table-name">o</span>.<span class="column">order_id</span> <span class="keyword">IS NULL</span>;</pre>
                    </div>
                </div>

                <div id="preserving-all" class="tab-content">
                    <div class="code-block">
                        <pre><span class="comment">-- Show all departments with employee counts (including empty departments)</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">d</span>.<span class="column">department_name</span>,
    <span class="table-name">d</span>.<span class="column">location</span>,
    <span class="keyword">COUNT</span>(<span class="table-name">e</span>.<span class="column">employee_id</span>) <span class="keyword">AS</span> <span class="column">employee_count</span>,
    <span class="keyword">COALESCE</span>(<span class="keyword">AVG</span>(<span class="table-name">e</span>.<span class="column">salary</span>), 0) <span class="keyword">AS</span> <span class="column">avg_salary</span>
<span class="keyword">FROM</span> <span class="table-name">departments</span> <span class="table-name">d</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">employees</span> <span class="table-name">e</span>
    <span class="keyword">ON</span> <span class="table-name">d</span>.<span class="column">department_id</span> = <span class="table-name">e</span>.<span class="column">department_id</span>
<span class="keyword">GROUP BY</span> <span class="table-name">d</span>.<span class="column">department_id</span>;</pre>
                    </div>
                </div>

                <div id="exclusive-data" class="tab-content">
                    <div class="code-block">
                        <pre><span class="comment">-- Find products that have never been reviewed</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">p</span>.<span class="column">product_id</span>,
    <span class="table-name">p</span>.<span class="column">product_name</span>,
    <span class="table-name">p</span>.<span class="column">launch_date</span>
<span class="keyword">FROM</span> <span class="table-name">products</span> <span class="table-name">p</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">reviews</span> <span class="table-name">r</span>
    <span class="keyword">ON</span> <span class="table-name">p</span>.<span class="column">product_id</span> = <span class="table-name">r</span>.<span class="column">product_id</span>
<span class="keyword">WHERE</span> <span class="table-name">r</span>.<span class="column">review_id</span> <span class="keyword">IS NULL</span>
    <span class="keyword">AND</span> <span class="table-name">p</span>.<span class="column">launch_date</span> < <span class="keyword">DATE_SUB</span>(<span class="keyword">NOW</span>(), <span class="keyword">INTERVAL</span> 30 <span class="keyword">DAY</span>);</pre>
                    </div>
                </div>
            </section>

            <section class="section" id="join-keywords">
                <h2>üîë Other Skills for Working with Joins</h2>
                
                <h3>Using the USING Keyword</h3>
                <p>When joining tables on columns with the same name, you can use USING instead of ON for cleaner syntax.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Traditional ON syntax</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="table-name">orders</span> <span class="table-name">o</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">customers</span> <span class="table-name">c</span>
    <span class="keyword">ON</span> <span class="table-name">o</span>.<span class="column">customer_id</span> = <span class="table-name">c</span>.<span class="column">customer_id</span>;

<span class="comment">-- Cleaner USING syntax (when column names match)</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="table-name">orders</span> <span class="table-name">o</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">customers</span> <span class="table-name">c</span>
    <span class="keyword">USING</span> (<span class="column">customer_id</span>);</pre>
                </div>

                <div class="tip-box">
                    USING automatically removes duplicate columns from the result set, while ON keeps both columns.
                </div>

                <h3>Natural Joins</h3>
                <p>A NATURAL JOIN automatically joins tables based on all columns with the same names. While convenient, it's risky and not recommended for production code.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Natural join - automatically finds matching columns</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="table-name">orders</span>
<span class="keyword">NATURAL JOIN</span> <span class="table-name">customers</span>;

<span class="comment">-- This is equivalent to:</span>
<span class="keyword">SELECT</span> *
<span class="keyword">FROM</span> <span class="table-name">orders</span> <span class="table-name">o</span>
<span class="keyword">INNER JOIN</span> <span class="table-name">customers</span> <span class="table-name">c</span>
    <span class="keyword">USING</span> (<span class="column">customer_id</span>); <span class="comment">-- If customer_id is the only common column</span></pre>
                </div>

                <div class="warning-box">
                    Natural joins are dangerous! If someone adds a column with a matching name later, your join behavior changes unexpectedly. Always specify your join conditions explicitly.
                </div>

                <h3>Cross Joins (Cartesian Product)</h3>
                <p>A cross join produces the Cartesian product of two tables - every row from the first table paired with every row from the second table.</p>

                <div class="analogy-box">
                    <h4>üé® Analogy: The Paint Store</h4>
                    <p>Imagine you have 3 paint colors (red, blue, yellow) and 3 finishes (matte, gloss, satin). A cross join would give you all 9 possible combinations: red-matte, red-gloss, red-satin, blue-matte, blue-gloss, etc.</p>
                </div>

                <div class="code-block">
                    <pre><span class="comment">-- Generate all possible product-color combinations</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">p</span>.<span class="column">product_name</span>,
    <span class="table-name">c</span>.<span class="column">color_name</span>
<span class="keyword">FROM</span> <span class="table-name">products</span> <span class="table-name">p</span>
<span class="keyword">CROSS JOIN</span> <span class="table-name">colors</span> <span class="table-name">c</span>
<span class="keyword">WHERE</span> <span class="table-name">p</span>.<span class="column">customizable</span> = <span class="keyword">TRUE</span>;

<span class="comment">-- Generate a numbers table (useful for calendar generation)</span>
<span class="keyword">SELECT</span> 
    (<span class="table-name">tens</span>.<span class="column">digit</span> * 10 + <span class="table-name">ones</span>.<span class="column">digit</span>) <span class="keyword">AS</span> <span class="column">number</span>
<span class="keyword">FROM</span> 
    (<span class="keyword">SELECT</span> 0 <span class="keyword">AS</span> <span class="column">digit</span> <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 1 <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 2 <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 3) <span class="table-name">ones</span>
<span class="keyword">CROSS JOIN</span>
    (<span class="keyword">SELECT</span> 0 <span class="keyword">AS</span> <span class="column">digit</span> <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 1 <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 2 <span class="keyword">UNION ALL</span> <span class="keyword">SELECT</span> 3) <span class="table-name">tens</span>;</pre>
                </div>

                <div class="warning-box">
                    Cross joins can produce huge result sets! If you cross join a table with 1,000 rows with another table with 1,000 rows, you get 1,000,000 rows!
                </div>
            </section>

            <section class="section" id="unions">
                <h2>‚ö° How to Work with Unions</h2>
                
                <p>While joins combine columns from multiple tables horizontally, unions combine rows from multiple queries vertically. Think of it as stacking result sets on top of each other.</p>

                <div class="analogy-box">
                    <h4>üìö Analogy: The Filing Cabinet</h4>
                    <p>Imagine you have customer records in three different filing cabinets: one for 2022, one for 2023, and one for 2024. A UNION is like taking all the folders from all three cabinets and combining them into one master list. Each folder keeps its original information, but now they're all in one place.</p>
                </div>

                <h3>Basic Union Syntax</h3>
                <p>UNION combines the results of two or more SELECT statements, removing duplicate rows by default.</p>

                <div class="code-block">
                    <pre><span class="comment">-- Basic UNION syntax</span>
<span class="keyword">SELECT</span> <span class="column">column1</span>, <span class="column">column2</span> <span class="keyword">FROM</span> <span class="table-name">table1</span>
<span class="keyword">UNION</span>
<span class="keyword">SELECT</span> <span class="column">column1</span>, <span class="column">column2</span> <span class="keyword">FROM</span> <span class="table-name">table2</span>;</pre>
                </div>

                <h3>Union Rules</h3>
                <div class="concept-card">
                    <h4>Requirements for UNION:</h4>
                    <ol style="margin-left: 2rem;">
                        <li><strong>Same number of columns:</strong> Each SELECT must return the same column count</li>
                        <li><strong>Compatible data types:</strong> Corresponding columns must have compatible types</li>
                        <li><strong>Column order matters:</strong> First column combines with first column, etc.</li>
                        <li><strong>Column names:</strong> Come from the first SELECT statement</li>
                    </ol>
                </div>

                <h3>Union vs Union All</h3>
                <div class="code-block">
                    <pre><span class="comment">-- UNION removes duplicates (slower)</span>
<span class="keyword">SELECT</span> <span class="column">email</span> <span class="keyword">FROM</span> <span class="table-name">customers</span>
<span class="keyword">UNION</span>
<span class="keyword">SELECT</span> <span class="column">email</span> <span class="keyword">FROM</span> <span class="table-name">newsletter_subscribers</span>;

<span class="comment">-- UNION ALL keeps all rows including duplicates (faster)</span>
<span class="keyword">SELECT</span> <span class="column">email</span> <span class="keyword">FROM</span> <span class="table-name">customers</span>
<span class="keyword">UNION ALL</span>
<span class="keyword">SELECT</span> <span class="column">email</span> <span class="keyword">FROM</span> <span class="table-name">newsletter_subscribers</span>;</pre>
                </div>

                <h3>Union Examples</h3>

                <h4>Combining Data from Different Tables</h4>
                <div class="code-block">
                    <pre><span class="comment">-- Combine active and archived orders</span>
<span class="keyword">SELECT</span> 
    <span class="column">order_id</span>,
    <span class="column">customer_id</span>,
    <span class="column">order_date</span>,
    <span class="column">total_amount</span>,
    <span class="string">'Active'</span> <span class="keyword">AS</span> <span class="column">status</span>
<span class="keyword">FROM</span> <span class="table-name">orders</span>
<span class="keyword">WHERE</span> <span class="column">order_date</span> >= <span class="string">'2024-01-01'</span>

<span class="keyword">UNION ALL</span>

<span class="keyword">SELECT</span> 
    <span class="column">order_id</span>,
    <span class="column">customer_id</span>,
    <span class="column">order_date</span>,
    <span class="column">total_amount</span>,
    <span class="string">'Archived'</span> <span class="keyword">AS</span> <span class="column">status</span>
<span class="keyword">FROM</span> <span class="table-name">archived_orders</span>
<span class="keyword">WHERE</span> <span class="column">order_date</span> >= <span class="string">'2024-01-01'</span>

<span class="keyword">ORDER BY</span> <span class="column">order_date</span> <span class="keyword">DESC</span>;</pre>
                </div>

                <h4>Creating Summary Reports</h4>
                <div class="code-block">
                    <pre><span class="comment">-- Combine different types of transactions</span>
<span class="keyword">SELECT</span> 
    <span class="string">'Sale'</span> <span class="keyword">AS</span> <span class="column">transaction_type</span>,
    <span class="column">sale_date</span> <span class="keyword">AS</span> <span class="column">transaction_date</span>,
    <span class="column">amount</span>,
    <span class="column">customer_id</span>
<span class="keyword">FROM</span> <span class="table-name">sales</span>

<span class="keyword">UNION ALL</span>

<span class="keyword">SELECT</span> 
    <span class="string">'Refund'</span> <span class="keyword">AS</span> <span class="column">transaction_type</span>,
    <span class="column">refund_date</span> <span class="keyword">AS</span> <span class="column">transaction_date</span>,
    -<span class="column">amount</span> <span class="keyword">AS</span> <span class="column">amount</span>,
    <span class="column">customer_id</span>
<span class="keyword">FROM</span> <span class="table-name">refunds</span>

<span class="keyword">UNION ALL</span>

<span class="keyword">SELECT</span> 
    <span class="string">'Credit'</span> <span class="keyword">AS</span> <span class="column">transaction_type</span>,
    <span class="column">credit_date</span> <span class="keyword">AS</span> <span class="column">transaction_date</span>,
    -<span class="column">credit_amount</span> <span class="keyword">AS</span> <span class="column">amount</span>,
    <span class="column">customer_id</span>
<span class="keyword">FROM</span> <span class="table-name">store_credits</span>

<span class="keyword">ORDER BY</span> <span class="column">transaction_date</span> <span class="keyword">DESC</span>;</pre>
                </div>

                <h4>Simulating a Full Outer Join</h4>
                <p>MySQL doesn't support FULL OUTER JOIN, but you can simulate it using UNION:</p>

                <div class="code-block">
                    <pre><span class="comment">-- Simulate FULL OUTER JOIN with UNION</span>
<span class="comment">-- Get all customers and their orders (including customers without orders)</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_id</span>,
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">o</span>.<span class="column">order_id</span>,
    <span class="table-name">o</span>.<span class="column">order_date</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">LEFT JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>

<span class="keyword">UNION</span>

<span class="comment">-- Get all orders (including any orphaned orders)</span>
<span class="keyword">SELECT</span> 
    <span class="table-name">c</span>.<span class="column">customer_id</span>,
    <span class="table-name">c</span>.<span class="column">customer_name</span>,
    <span class="table-name">o</span>.<span class="column">order_id</span>,
    <span class="table-name">o</span>.<span class="column">order_date</span>
<span class="keyword">FROM</span> <span class="table-name">customers</span> <span class="table-name">c</span>
<span class="keyword">RIGHT JOIN</span> <span class="table-name">orders</span> <span class="table-name">o</span>
    <span class="keyword">ON</span> <span class="table-name">c</span>.<span class="column">customer_id</span> = <span class="table-name">o</span>.<span class="column">customer_id</span>;</pre>
                </div>

                <div class="tip-box">
                    Use UNION ALL when you know there are no duplicates or when you want to keep duplicates. It's significantly faster than UNION because it doesn't need to sort and remove duplicates.
                </div>
            </section>

            <section class="section" id="summary">
                <h2>‚úÖ Summary and Best Practices</h2>
                
                <h3>Key Concepts Recap</h3>
                <div class="concept-card">
                    <h4>Join Types Quick Reference</h4>
                    <table class="result-table">
                        <tr>
                            <th>Join Type</th>
                            <th>Returns</th>
                            <th>Use When</th>
                        </tr>
                        <tr>
                            <td>INNER JOIN</td>
                            <td>Only matching rows</td>
                            <td>You need data that exists in both tables</td>
                        </tr>
                        <tr>
                            <td>LEFT JOIN</td>
                            <td>All from left + matching from right</td>
                            <td>You need all records from primary table</td>
                        </tr>
                        <tr>
                            <td>RIGHT JOIN</td>
                            <td>All from right + matching from left</td>
                            <td>Less common; consider rewriting as LEFT</td>
                        </tr>
                        <tr>
                            <td>CROSS JOIN</td>
                            <td>Cartesian product</td>
                            <td>You need all combinations</td>
                        </tr>
                        <tr>
                            <td>UNION</td>
                            <td>Combined rows (no duplicates)</td>
                            <td>Combining similar data from multiple sources</td>
                        </tr>
                        <tr>
                            <td>UNION ALL</td>
                            <td>Combined rows (with duplicates)</td>
                            <td>Faster when duplicates don't matter</td>
                        </tr>
                    </table>
                </div>

                <h3>Best Practices</h3>
                <div class="tip-box">
                    <ol style="margin-left: 1rem;">
                        <li><strong>Always use explicit JOIN syntax</strong> - Makes queries clearer and safer</li>
                        <li><strong>Use meaningful table aliases</strong> - Improves readability</li>
                        <li><strong>Qualify all columns</strong> - Use table aliases to avoid ambiguity</li>
                        <li><strong>Consider performance</strong> - Index columns used in JOIN conditions</li>
                        <li><strong>Test with small datasets first</strong> - Especially for complex joins</li>
                        <li><strong>Use LEFT JOIN over RIGHT JOIN</strong> - For consistency</li>
                        <li><strong>Avoid NATURAL JOIN</strong> - Too unpredictable</li>
                        <li><strong>Use UNION ALL when possible</strong> - Better performance</li>
                    </ol>
                </div>

                <h3>Common Pitfalls to Avoid</h3>
                <div class="warning-box">
                    <ul style="margin-left: 1rem;">
                        <li>‚ùå Forgetting to join tables (creates Cartesian product)</li>
                        <li>‚ùå Using wrong join type (INNER when you need LEFT)</li>
                        <li>‚ùå Not handling NULL values in outer joins</li>
                        <li>‚ùå Joining on non-indexed columns (slow performance)</li>
                        <li>‚ùå Ambiguous column references in complex joins</li>
                        <li>‚ùå Using UNION when UNION ALL would work</li>
                        <li>‚ùå Mismatched column counts in UNION queries</li>
                    </ul>
                </div>

                <h3>Performance Tips</h3>
                <div class="concept-card">
                    <h4>Optimizing Join Performance</h4>
                    <ul style="margin-left: 2rem;">
                        <li>üìç <strong>Index foreign keys:</strong> Always index columns used in ON clauses</li>
                        <li>üìç <strong>Join order matters:</strong> Start with smaller tables when possible</li>
                        <li>üìç <strong>Filter early:</strong> Use WHERE clauses to reduce data before joining</li>
                        <li>üìç <strong>Avoid functions in ON clauses:</strong> They prevent index usage</li>
                        <li>üìç <strong>Use EXPLAIN:</strong> Analyze query execution plans</li>
                        <li>üìç <strong>Consider denormalization:</strong> For frequently joined tables</li>
                    </ul>
                </div>

                <h3>Practice Exercises</h3>
                <div class="concept-card">
                    <h4>Try These Queries:</h4>
                    <ol style="margin-left: 2rem;">
                        <li>Find all employees and their department names (include employees without departments)</li>
                        <li>List products that have never been ordered</li>
                        <li>Show customer order history with running totals</li>
                        <li>Create a report combining current year and previous year sales</li>
                        <li>Find managers and their direct reports using self-join</li>
                    </ol>
                </div>

                <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: var(--surface-light); border-radius: 10px;">
                    <h3 style="color: var(--secondary);">üéØ Chapter Summary</h3>
                    <p style="font-size: 1.1rem; margin-top: 1rem;">You now have the power to combine data from multiple tables using joins and unions. Remember: joins combine tables horizontally (adding columns), while unions combine them vertically (adding rows). Master these techniques, and you'll be able to extract meaningful insights from complex relational databases!</p>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Progress bar
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                const section = document.getElementById(this.dataset.section);
                section.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Tab functionality
        function showTab(evt, tabName) {
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));
            
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
        }

        // Scroll spy for active navigation
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.section');
            const navItems = document.querySelectorAll('.nav-item');
            
            let current = '';
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    current = section.id;
                }
            });
            
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.section === current) {
                    item.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
